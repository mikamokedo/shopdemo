{"ast":null,"code":"import * as CONSTANT from '../constant/index';\nimport firebase from '../firebaseConfig';\nconst initState = {};\n\nconst itemadd = (state = initState, action) => {\n  switch (action.type) {\n    case CONSTANT.PUSH_ITEM_TO_STORE:\n      const fileImg = action.payload.item.filechoice;\n      const storage = firebase.storage();\n      const uploadTask = storage.ref(`/shopimage/${fileImg.name}`).put(fileImg);\n      uploadTask.on('state_changed', progress => {}, error => {}, success => {\n        let cac = uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          console.log(downloadURL);\n        });\n      });\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default itemadd;","map":{"version":3,"sources":["D:/Qqqq/shopdemo/src/reducer/additem.js"],"names":["CONSTANT","firebase","initState","itemadd","state","action","type","PUSH_ITEM_TO_STORE","fileImg","payload","item","filechoice","storage","uploadTask","ref","name","put","on","progress","error","success","cac","snapshot","getDownloadURL","then","downloadURL","console","log"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,mBAA1B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,MAAMC,SAAS,GAAG,EAAlB;;AAIA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGF,SAAT,EAAoBG,MAApB,KAA+B;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKN,QAAQ,CAACO,kBAAd;AACI,YAAMC,OAAO,GAAGH,MAAM,CAACI,OAAP,CAAeC,IAAf,CAAoBC,UAApC;AACA,YAAMC,OAAO,GAAGX,QAAQ,CAACW,OAAT,EAAhB;AACF,YAAMC,UAAU,GAAGD,OAAO,CAACE,GAAR,CAAa,cAAaN,OAAO,CAACO,IAAK,EAAvC,EAA0CC,GAA1C,CAA8CR,OAA9C,CAAnB;AACAK,MAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EACCC,QAAD,IAAa,CAEZ,CAHD,EAICC,KAAD,IAAU,CAET,CAND,EAOCC,OAAD,IAAY;AACX,YAAIC,GAAG,GAAGR,UAAU,CAACS,QAAX,CAAoBR,GAApB,CAAwBS,cAAxB,GAAyCC,IAAzC,CAA8C,UAASC,WAAT,EAAsB;AAC5EC,UAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACA,SAFQ,CAAV;AAIA,OAZD;AAcA,aAAOrB,KAAP;;AAGE;AACI,aAAOA,KAAP;AAvBR;AAyBH,CA1BD;;AA4BA,eAAeD,OAAf","sourcesContent":["import * as CONSTANT from '../constant/index';\r\nimport firebase from '../firebaseConfig';\r\nconst initState = {\r\n\r\n}\r\n\r\nconst itemadd = (state = initState, action) => {\r\n    switch (action.type) {\r\n    case CONSTANT.PUSH_ITEM_TO_STORE:\r\n        const fileImg = action.payload.item.filechoice;\r\n        const storage = firebase.storage();\r\n      const uploadTask = storage.ref(`/shopimage/${fileImg.name}`).put(fileImg);\r\n      uploadTask.on('state_changed',\r\n      (progress) =>{\r\n        \r\n      },\r\n      (error) =>{\r\n    \r\n      },\r\n      (success) =>{\r\n       let cac = uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n         console.log(downloadURL);\r\n        });\r\n    \r\n      }\r\n      )\r\n      return state;\r\n    \r\n   \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default itemadd\r\n"]},"metadata":{},"sourceType":"module"}