{"ast":null,"code":"import _objectSpread from \"D:\\\\Qqqq\\\\shopdemo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport * as CONSTANT from '../constant/index';\nimport firebase from '../firebaseConfig';\nconst initState = {};\n\nconst itemadd = (state = initState, action) => {\n  switch (action.type) {\n    case CONSTANT.PUSH_ITEM_TO_STORE:\n      const fileImg = action.payload.item.filechoice;\n      const storage = firebase.storage();\n      const uploadTask = storage.ref(`/shopimage/${fileImg.name}`).put(fileImg);\n      uploadTask.on('state_changed', progress => {}, error => {}, success => {\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          state.url = downloadURL;\n          console.log(state);\n        });\n      });\n      return _objectSpread({}, state);\n\n    default:\n      return state;\n  }\n};\n\nexport default itemadd;","map":{"version":3,"sources":["D:/Qqqq/shopdemo/src/reducer/additem.js"],"names":["CONSTANT","firebase","initState","itemadd","state","action","type","PUSH_ITEM_TO_STORE","fileImg","payload","item","filechoice","storage","uploadTask","ref","name","put","on","progress","error","success","snapshot","getDownloadURL","then","downloadURL","url","console","log"],"mappings":";AAAA,OAAO,KAAKA,QAAZ,MAA0B,mBAA1B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,MAAMC,SAAS,GAAG,EAAlB;;AAIA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGF,SAAT,EAAoBG,MAApB,KAA+B;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKN,QAAQ,CAACO,kBAAd;AACI,YAAMC,OAAO,GAAGH,MAAM,CAACI,OAAP,CAAeC,IAAf,CAAoBC,UAApC;AACA,YAAMC,OAAO,GAAGX,QAAQ,CAACW,OAAT,EAAhB;AACF,YAAMC,UAAU,GAAGD,OAAO,CAACE,GAAR,CAAa,cAAaN,OAAO,CAACO,IAAK,EAAvC,EAA0CC,GAA1C,CAA8CR,OAA9C,CAAnB;AACAK,MAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EACCC,QAAD,IAAa,CAEZ,CAHD,EAICC,KAAD,IAAU,CAET,CAND,EAOCC,OAAD,IAAY;AACXP,QAAAA,UAAU,CAACQ,QAAX,CAAoBP,GAApB,CAAwBQ,cAAxB,GAAyCC,IAAzC,CAA8C,UAASC,WAAT,EAAsB;AACnEpB,UAAAA,KAAK,CAACqB,GAAN,GAAYD,WAAZ;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAZ;AACC,SAHF;AAKA,OAbD;AAgBA,+BAAWA,KAAX;;AAGE;AACI,aAAOA,KAAP;AAzBR;AA2BH,CA5BD;;AA8BA,eAAeD,OAAf","sourcesContent":["import * as CONSTANT from '../constant/index';\r\nimport firebase from '../firebaseConfig';\r\nconst initState = {\r\n\r\n}\r\n\r\nconst itemadd = (state = initState, action) => {\r\n    switch (action.type) {\r\n    case CONSTANT.PUSH_ITEM_TO_STORE:\r\n        const fileImg = action.payload.item.filechoice;\r\n        const storage = firebase.storage();\r\n      const uploadTask = storage.ref(`/shopimage/${fileImg.name}`).put(fileImg);\r\n      uploadTask.on('state_changed',\r\n      (progress) =>{\r\n        \r\n      },\r\n      (error) =>{\r\n    \r\n      },\r\n      (success) =>{\r\n       uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n        state.url = downloadURL;\r\n        console.log(state)\r\n        });\r\n    \r\n      }\r\n      )\r\n    \r\n      return {...state};\r\n    \r\n   \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default itemadd\r\n"]},"metadata":{},"sourceType":"module"}