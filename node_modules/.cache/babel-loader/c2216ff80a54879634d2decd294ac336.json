{"ast":null,"code":"import firebase from '../firebaseConfig';\nexport const getMethod = () => {\n  let xhtml = firebase.firestore().collection(\"listproduct\").get().then(querySnapshot => {\n    return querySnapshot;\n  }).catch(erro => {\n    return erro;\n  });\n  return xhtml;\n};\nexport const getSingleMethod = id => {\n  let xhtml = firebase.firestore().collection(\"listproduct\").doc(id).get().then(querySnapshot => {\n    return querySnapshot.data();\n  }).catch(erro => {\n    return erro;\n  });\n  return xhtml;\n};\nexport const fillterbycate = cate => {\n  let listProducts = [];\n  let json = firebase.firestore().collection(\"listproduct\").where(\"cate\", \"==\", cate).get().then(function (querySnapshot) {\n    querySnapshot.forEach(function (doc) {\n      listProducts.push(doc.data());\n    });\n    return listProducts;\n  });\n  return json;\n};\nexport const uploadImgFirebase = file => {\n  const storage = firebase.storage();\n  const uploadTask = storage.ref(`/shopimage/${file.name}`).put(file);\n  return new Promise((resolve, reject) => {\n    uploadTask.on('state_changed', function (snapshot) {}, function (error) {\n      reject(error);\n      alert(error);\n    }, function () {\n      const downloadURL = uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        return downloadURL;\n      });\n      resolve(downloadURL);\n    });\n  });\n};\nexport const pushProductToFirebase = product => {\n  firebase.firestore().collection('listproduct').add(product).then(doc => {\n    console.log(doc);\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["D:/Qqqq/shopdemo/src/api/index.js"],"names":["firebase","getMethod","xhtml","firestore","collection","get","then","querySnapshot","catch","erro","getSingleMethod","id","doc","data","fillterbycate","cate","listProducts","json","where","forEach","push","uploadImgFirebase","file","storage","uploadTask","ref","name","put","Promise","resolve","reject","on","snapshot","error","alert","downloadURL","getDownloadURL","pushProductToFirebase","product","add","console","log"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,mBAArB;AACA,OAAO,MAAOC,SAAS,GAAG,MAAK;AAC9B,MAAIC,KAAK,GAAGF,QAAQ,CAACG,SAAT,GAAqBC,UAArB,CAAgC,aAAhC,EAA+CC,GAA/C,GACTC,IADS,CACHC,aAAD,IAAmB;AAEpB,WAAOA,aAAP;AAEL,GALU,EAKRC,KALQ,CAKDC,IAAD,IAAS;AAEhB,WAAOA,IAAP;AACD,GARU,CAAZ;AAUC,SAAOP,KAAP;AAED,CAbM;AAeP,OAAO,MAAMQ,eAAe,GAAIC,EAAD,IAAO;AACpC,MAAIT,KAAK,GAAIF,QAAQ,CAACG,SAAT,GAAqBC,UAArB,CAAgC,aAAhC,EAA+CQ,GAA/C,CAAmDD,EAAnD,EAAuDN,GAAvD,GACZC,IADY,CACNC,aAAD,IAAmB;AACtB,WAAOA,aAAa,CAACM,IAAd,EAAP;AAEH,GAJa,EAIXL,KAJW,CAIJC,IAAD,IAAS;AAEd,WAAOA,IAAP;AACH,GAPa,CAAb;AAQC,SAAOP,KAAP;AAED,CAXK;AAcN,OAAO,MAAMY,aAAa,GAAIC,IAAD,IAAS;AACrC,MAAIC,YAAY,GAAG,EAAnB;AACC,MAAIC,IAAI,GAAGjB,QAAQ,CAACG,SAAT,GAAqBC,UAArB,CAAgC,aAAhC,EAA+Cc,KAA/C,CAAqD,MAArD,EAA6D,IAA7D,EAAmEH,IAAnE,EAAyEV,GAAzE,GAA+EC,IAA/E,CAAoF,UAASC,aAAT,EAAwB;AACnHA,IAAAA,aAAa,CAACY,OAAd,CAAsB,UAASP,GAAT,EAAc;AACnCI,MAAAA,YAAY,CAACI,IAAb,CAAkBR,GAAG,CAACC,IAAJ,EAAlB;AACA,KAFD;AAGA,WAAOG,YAAP;AACH,GALU,CAAX;AAMA,SAAOC,IAAP;AAEF,CAVO;AAWR,OAAO,MAAMI,iBAAiB,GAAIC,IAAD,IAAS;AACxC,QAAMC,OAAO,GAAGvB,QAAQ,CAACuB,OAAT,EAAhB;AACA,QAAMC,UAAU,GAAID,OAAO,CAACE,GAAR,CAAa,cAAaH,IAAI,CAACI,IAAK,EAApC,EAAuCC,GAAvC,CAA2CL,IAA3C,CAApB;AACA,SAAO,IAAIM,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCN,IAAAA,UAAU,CAACO,EAAX,CACC,eADD,EAEC,UAASC,QAAT,EAAmB,CAClB,CAHF,EAIC,UAASC,KAAT,EAAgB;AACdH,MAAAA,MAAM,CAACG,KAAD,CAAN;AACAC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KAPF,EAQC,YAAW;AACT,YAAME,WAAW,GAAGX,UAAU,CAACQ,QAAX,CAAoBP,GAApB,CAAwBW,cAAxB,GAAyC9B,IAAzC,CAA8C,UAAS6B,WAAT,EAAsB;AACrF,eAAOA,WAAP;AACH,OAFoB,CAApB;AAGAN,MAAAA,OAAO,CAACM,WAAD,CAAP;AACD,KAbF;AAeF,GAhBO,CAAP;AAiBD,CApBM;AAqBP,OAAO,MAAME,qBAAqB,GAAIC,OAAD,IAAY;AAC/CtC,EAAAA,QAAQ,CAACG,SAAT,GAAqBC,UAArB,CAAgC,aAAhC,EAA+CmC,GAA/C,CAAmDD,OAAnD,EAA4DhC,IAA5D,CAAkEM,GAAD,IAAQ;AACrE4B,IAAAA,OAAO,CAACC,GAAR,CAAY7B,GAAZ;AACH,GAFD,EAEGJ,KAFH,CAEUyB,KAAD,IAAS;AAChBO,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACD,GAJD;AAKD,CANM","sourcesContent":["import firebase from '../firebaseConfig';\r\nexport const  getMethod = () =>{\r\n let xhtml = firebase.firestore().collection(\"listproduct\").get().\r\n    then((querySnapshot) => {\r\n        \r\n        return querySnapshot;\r\n   \r\n  }).catch((erro) =>{\r\n\r\n    return erro;\r\n  })\r\n\r\n  return xhtml;\r\n\r\n}\r\n\r\nexport const getSingleMethod = (id) =>{\r\n  let xhtml =  firebase.firestore().collection(\"listproduct\").doc(id).get().\r\n   then((querySnapshot) => {\r\n     return querySnapshot.data();\r\n  \r\n }).catch((erro) =>{\r\n \r\n     return erro;\r\n })\r\n   return xhtml;\r\n \r\n };\r\n\r\n\r\n export const fillterbycate = (cate) =>{\r\n  let listProducts = [];\r\n   let json = firebase.firestore().collection(\"listproduct\").where(\"cate\", \"==\", cate).get().then(function(querySnapshot) {\r\n       querySnapshot.forEach(function(doc) {\r\n        listProducts.push(doc.data());  \r\n       });\r\n       return listProducts;\r\n   })\r\n   return json;\r\n\r\n}\r\nexport const uploadImgFirebase = (file) =>{\r\n  const storage = firebase.storage();\r\n  const uploadTask =  storage.ref(`/shopimage/${file.name}`).put(file);\r\n  return new Promise((resolve, reject) => {\r\n    uploadTask.on(\r\n     'state_changed',\r\n     function(snapshot) {\r\n     },\r\n     function(error) {\r\n       reject(error);  \r\n       alert(error);\r\n     },\r\n     function() {\r\n       const downloadURL = uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n          return downloadURL;\r\n      });\r\n       resolve(downloadURL); \r\n     }\r\n   );\r\n });\r\n}\r\nexport const pushProductToFirebase = (product) =>{\r\n  firebase.firestore().collection('listproduct').add(product).then((doc) =>{\r\n      console.log(doc);\r\n  }).catch((error)=>{\r\n    console.log(error)\r\n  })\r\n};"]},"metadata":{},"sourceType":"module"}